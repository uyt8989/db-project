CSE4110 – Database System
Project 2
20171695 유경연

Requirments
- Project1에서 작성한 Relation Schema를 BCNF로 정규화
- Erwin을 사용해 Physical Schema Diagram 작성
- 주어진 Query 작성

Description of DB
- Host : localhost
- User : root
- DB name : ky_db
- Password : 1234

Queries
- Type 1 : USPS로 배송되던 택배가 사고로 유실되었다고 가정하고, 해당 고객의 정보를 출력한다.
배송중이면서 USPS가 배송하던 택배가 유실되었다고 가정하고 query를 작성했다.

- Type 1-1 : 해당 택배에 어떤 상품이 들어있었는지 확인하고 새로운 배송 정보를 만든다.
원래 배송 정보의 상태를 취소로 변경하고 새로운 배송 정보를 추가했다.

- Type 2 : 총 금액 기준으로 작년에 가장 많이 구매한 고객을 찾는다.
금액 기준으로 작년에 가장 많이 구매한 고객을 찾는 query를 작성했다.

- Type 2-1 : 그 고객이 작년에 어떤 물건을 가장 많이 샀는지 찾는다.
그 고객이 작년에 어떤 물건을 가장 많이 샀는지 검색했다.

- Type 3 : 작년에 판매한 모든 상품을 찾는다.
작년에 판매한 모든 상품과 그 총액을 검색했다.

- Type 3-1 : 판매 금액 기준으로 작년에 가장 많이 판매한 상품 중 상위 k개를 찾는다.
판매 금액을 기준으로 하여 상위 k의 상품을 찾는 query를 작성했다.

- Type 3-2 : 판매 금액 기준으로 작년에 가장 많이 판매한 상품 중 상위 10%를 찾는다.
판매 금액을 기준으로 하여 상위 10%의 상품을 찾는 query를 작성했다. 상품이 10개 이상이 되지 않는 경우를 고려하였다.

- Type 4 : 작년에 판매한 모든 상품과 판매 개수를 찾는다.
Type 3과 거의 동일하지만 기준만 달리하여 query를 작성했다.

- Type 4-1 : 판매 개수 기준으로 작년에 가장 많이 판매한 상품 중 상위 k개를 찾는다.

- Type 4-2 : 판매 개수 기준으로 작년에 가장 많이 판매한 상품 중 상위 10%를 찾는다.

- Type 5 : California에 있는 모든 판매점에서 품절된 상품을 찾는다.
판매점의 위치가 California면서 해당 판매점에 재고가 0개인 상품을 검색했다.

- Type 6 : 약속된 시간에 배송되지 않은 상품을 찾는다.
현재 시간을 기준으로 아직 배송이 완료되지 않은 상품을 검색했다.

- Type 7 : 각 고객의 저번 달 영수증을 만든다.
각 고객의 저번 달 구매 금액을 합하는 query를 작성했다.

Codes
1. 20171659.cpp : main 함수가 있는 파일
2. io.cpp : 파일 입출력과 사용자에게 입력 받는 함수가 있는 파일
3. querys.cpp : 실제로 쿼리를 구현한 파일

How to excute
0. 해당 프로그램을 실행하면 DB에 임의의 정보가 자동으로 추가된다. 
0-0 솔루션 폴더 내에 mylibsql.dll 파일이 있어야 정상적으로 작동한다.
0-1. 실행을 위해 솔루션 폴더 내에 CREATE.txt와 DROP.txt가 필요하다. 
0-2. CREATE.txt는 TABLE의 생성과 정보 입력, DROP.txt는 TABLE의 삭제에 사용된다.
1. 프로그램을 실행하면 결과를 확인하길 원하는 type의 번호를 입력한다.
2. 결과를 확인한 이후에 subtype이 있는 type인 경우에 subtype의 번호를 입력한다.
3. 다른 type도 확인하고 싶다면 다시 type을 입력하고 아닌 경우엔 0을 입력해 종료한다.
